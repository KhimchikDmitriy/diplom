<!DOCTYPE html>
<html lang="en">
  <head>
    <title><%= title %></title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <br />

    <div class="container" style="display: flex; height: 96vh">
      <div style="max-width: 600px"><%- include('./partials/card'); -%></div>

      <div
        id="carouselExampleDark"
        class="carousel carousel-dark slide"
        style="width: 500px; height: 500px; margin: 15px"
      >
        <div class="carousel-inner">
          <div class="carousel-item active">
            <div class="card" style="width: 500px; height: 500px">
              <div class="card-header">
                <h6>Примеры наших работ.</h6>
              </div>
              <div class="card-body">
                <p class="card-text" style="width: 50%; margin-left: 25%">
                  На этом слайдере представлены некоторые из наших работ. Мы
                  надеемся, что они вдохновят вас и помогут понять, каким
                  образом мы можем преобразить ваш бренд или мероприятие.
                  <br />
                  <br />
                  Переключение слайдов производится через кнопки.
                </p>
                <br />
                <% if (role === "admin") { %>
                <div>
                  <button
                    type="button"
                    class="btn btn-light"
                    data-bs-toggle="modal"
                    data-bs-target="#createPost"
                    style="margin-left: 35%"
                  >
                    Cоздать пост
                  </button>
                </div>
                <% } %>
              </div>
            </div>
          </div>
          <% entries.posts.forEach((entry) => { %> <% if (entry.title ===
          "post") { %>
          <div class="carousel-item">
            <div class="card" style="width: 500px; height: 500px">
              <% if (entry.media) {%>
              <div class="card-header">
                <h6 style="margin-left: 25%">
                  <% if (role === "admin") { %>
                  <a href="posts/delete/<%= entry.id %>"
                    ><i class="fa-solid fa-trash-can" style="color: #000000"></i
                  ></a>
                  <% } %> <%= entry.body %>
                </h6>
              </div>
              <div class="card-body" style="width: 400px; height: 400px">
                <img
                  src="../uploads/<%= entry.media %>"
                  class="d-block w-100"
                  alt="..."
                />
                <br />
              </div>
              <% } else {%>
              <div class="card-header">
                <h6 style="margin-left: 25%">
                  <% if (role === "admin") { %>
                  <a href="posts/delete/<%= entry.id %>"
                    ><i class="fa-solid fa-trash-can" style="color: #000000"></i
                  ></a>
                  <% } %> Информация.
                </h6>
              </div>
              <div
                class="card-body"
                style="width: 400px; height: 400px; margin-left: 25%"
              >
                <p><%= entry.body %></p>
                <br />
              </div>
              <% } %>
            </div>

            <div class="carousel-caption d-none d-md-block"></div>
          </div>
          <% } %> <% }) %>
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselExampleDark"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carouselExampleDark"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
      <br />
      <%- include('./partials/loginForm'); -%> <%-
      include('./partials/registerForm'); -%> <%-
      include('./partials/feedback'); -%> <%- include('./partials/createPost');
      -%>
    </div>
    <div id="errorMessage" style="color: red; display: none">
      Пожалуйста, заполните все поля.
    </div>
    <style>
      @keyframes gradientAnimation {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      body {
        background: linear-gradient(135deg, #29601b 0%, #302b63 100%);
        background-size: 200% auto;
        animation: gradientAnimation 10s ease infinite;
      }
    </style>
  </body>
</html>
